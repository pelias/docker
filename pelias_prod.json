{
  "acceptance-tests": { "endpoints": { "docker": "http://api:4000/v1/" } },
  "api": {
    "defaultParameters": {
      "focus.point.lat": 45.52,
      "focus.point.lon": -122.67
    },
    "services": {
      "interpolation": { "url": "http://interpolation:4300" },
      "libpostal": { "url": "http://libpostal:4400" },
      "pip": { "url": "http://pip:4200" },
      "placeholder": { "url": "http://placeholder:4100" }
    },
    "targets": {
      "auto_discover": false,
      "layers_by_source": { "markerr-properties": ["address"] }
    }
  },
  "elasticsearch": {
    "settings": {
      "index": {
        "number_of_replicas": "0",
        "number_of_shards": "1",
        "refresh_interval": "10s"
      }
    }
  },
  "esclient": { "apiVersion": "7.5", "hosts": [{ "host": "elasticsearch" }] },
  "imports": {
    "adminLookup": { "enabled": true },
    "blacklist": { "files": ["/data/blacklist/osm.txt"] },
    "csv": {
      "datapath": "/data/csv",
      "download": [
        "https://raw.githubusercontent.com/pelias/csv-importer/master/data/example.csv"
      ],
      "files": [
        "part-00000-tid-7852238654423959956-3d443194-5bfb-4941-8dbb-dc5fc0cf3906-0-1-c000.csv"
      ]
    },
    "geonames": { "countryCode": "ALL", "datapath": "/data/geonames" },
    "interpolation": {
      "download": {
        "tiger": {
          "datapath": "/data/tiger",
          "states": [
            {
              "county_code": 67,
              "name": "Washington County, OR",
              "state_code": 41
            },
            {
              "county_code": 51,
              "name": "Multnomah County, OR",
              "state_code": 41
            },
            {
              "county_code": 5,
              "name": "Clackamas County, OR",
              "state_code": 41
            },
            {
              "county_code": 71,
              "name": "Yamhill County, OR",
              "state_code": 41
            },
            {
              "county_code": 47,
              "name": "Marion County, OR",
              "state_code": 41
            },
            { "county_code": 53, "name": "Polk County, OR", "state_code": 41 },
            { "county_code": 11, "name": "Clark County, WA", "state_code": 53 }
          ]
        }
      }
    },
    "openaddresses": {
      "datapath": "/data/openaddresses",
      "files": [
        "us/or/portland_metro.csv",
        "us/or/city_of_salem.csv",
        "us/or/marion_and_polk.csv",
        "us/or/marion.csv",
        "us/or/hood_river.csv",
        "us/wa/city_of_richland.csv",
        "us/wa/clark.csv"
      ]
    },
    "openstreetmap": {
      "datapath": "/data/openstreetmap",
      "download": [
        {
          "sourceURL": "https://data.geocode.earth/archive/portland-metro/2022-06-20/portland_oregon.osm.pbf"
        }
      ],
      "import": [{ "filename": "portland_oregon.osm.pbf" }],
      "leveldbpath": "/tmp"
    },
    "polyline": { "datapath": "/data/polylines", "files": ["extract.0sv"] },
    "transit": {
      "datapath": "/data/transit",
      "feeds": [
        {
          "agencyId": "BIKETOWN",
          "agencyName": "BIKETOWN",
          "filename": "BIKETOWN-hubs.json",
          "layerId": "bikeshare",
          "layerName": "bikeshare",
          "url": "https://gbfs.biketownpdx.com/gbfs/en/station_information.json"
        },
        {
          "agencyId": "TRIMET",
          "agencyName": "TriMet",
          "filename": "TRIMET-stops.txt",
          "layerId": "stops",
          "layerName": "Stop",
          "url": "http://developer.trimet.org/schedule/gtfs.zip"
        },
        {
          "agencyId": "C-TRAN",
          "agencyName": "C-TRAN",
          "filename": "C-TRAN-stops.txt",
          "layerId": "stops",
          "layerName": "Stop",
          "url": "https://data.geocode.earth/archive/portland-metro/2022-06-20/C-TRAN.zip"
        },
        {
          "agencyId": "RIDECONNECTION",
          "agencyName": "Ride Connection",
          "filename": "RIDECONNECTION-stops.txt",
          "layerId": "stops",
          "layerName": "Stop",
          "url": "http://oregon-gtfs.com/gtfs_data/rideconnection-or-us/rideconnection-or-us.zip"
        },
        {
          "agencyId": "SAM",
          "agencyName": "SAM",
          "filename": "SAM-stops.txt",
          "layerId": "stops",
          "layerName": "Stop",
          "url": "http://oregon-gtfs.com/gtfs_data/sandy-or-us/sandy-or-us.zip"
        },
        {
          "agencyId": "SMART",
          "agencyName": "SMART",
          "filename": "SMART-stops.txt",
          "layerId": "stops",
          "layerName": "Stop",
          "url": "http://data.trilliumtransit.com/gtfs/wilsonville-or-us/wilsonville-or-us.zip"
        },
        {
          "agencyId": "SWAN",
          "agencyName": "Swan Island",
          "filename": "SWAN-stops.txt",
          "layerId": "stops",
          "layerName": "Stop",
          "url": "http://oregon-gtfs.com/gtfs_data/swanisland-or-us/swanisland-or-us.zip"
        }
      ]
    },
    "whosonfirst": {
      "countryCode": "US",
      "datapath": "/data/whosonfirst",
      "importPlace": ["85688513", "85688623", "85977539"],
      "importPostalcodes": true
    }
  },
  "logger": { "level": "debug", "timestamp": true }
}
